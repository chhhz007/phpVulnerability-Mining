create table student(
	id int not null primary key auto_increment,
	name varchar(10) not null,
	age int not null,
	classId int not null
)engine=MyISAM default charset=utf8;

insert into student(name,age,classId) values("诸葛亮",21,1),("诸葛瑾",25,2),("张飞",30,1),("张辽",32,3),("郭嘉",22,3),("关羽",28,1),("典韦",27,3),
	                                         ("赵云",20,1),("陈宫",32,5),("周瑜",32,5),("陆逊",18,2),("曹仁",33,3),("夏侯惇",32,3);
create table class(
	id int not null primary key auto_increment,
	className varchar(10) not null
)engine=MyISAM default charset=utf8;

insert into class(classname) values("蜀国"),("吴国"),("魏国")；




select
 基本查询
 select * from 表名
 select id from name
 select id,name from tableName
 select 1,2,3,4 表头
 select 字段名1,字段名2,....... from 表名 where 限制条件


where子句

比较运算符 > < = >= <=

逻辑运算符 and or
select * from student where age>20 and age<30;
select * from student where age>20 or age<30;

between between...and
select * from student where age between 25 and 30;//寻找年龄在25到30的人

in(1,2,3)
select * from student where classId in(1,2);
select * from student where classId=1 or classId=2;

like的用法

搜索中经常用

%%
张%% 张XX

%张 X张

%张% XX张XX

select * from student where name like '%张%';


分组查询
 group by
 select classId,count(*) as number from student group by classId;
 count
 select count(*) from student;
 select count(age) from student;
 max
 select max(age) from student;
 select id,name,age,classId from student where age=(select max(age) from student);
 min
 select min(age) from student;
 select id,name,age,classId from student where age=(select min(age) from student);
 sum
 select sum(age) from student;
 select sum(age)/count(*) from student;
 avg
 select avg(age) from student;



 having 分组条件 之前一定有 group by
 select classId,count(*) as number from student group by classId having number>3;

 order by 排序
 select * from student order by age;
 select * from student order by age desc;//从大到小
 select * from student order by age asc；//从小到大

 limit
 分页 推荐
 limit n
 limit n,n//从第n个往后数n个


 连接查询
 join on
 select student.id,student.name,student.age,class.className from student join class on student.classId=class.id;

 left join on 
 select student.id,student.name,student.age,class.className from student left join class on student.classId = class.id;

 right join on


 子查询

 算数运算符
 in < > =
 exists
 not exists

 查出小于平均年龄的人
 //查询除平均年龄
select avg(age) from student;
 //跟平均年龄比较
 select * from student where age<27.5;
子查询
 select * from student where age<(select avg(age) from student);

//查询出class班>3 的所有人

//查询出每个班的人数
select count(*) as number from student group by classId;
select classId,count(*) as number from student group by classId;
//子查询

select * from student where classId in(select classId from student group by classId having count(*)>3);